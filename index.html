<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Itens</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
</head>

<body>
    <h1>Lista de Objetos</h1>
    <ul id="containerlista">
        <li id="carregando" class="carregando">
            <i class="fa fa-spin fa-spinner fa-3x" aria-hidden="true"></i> Carregando...
        </li>
    </ul>

    <script>
        const container = document.getElementById("containerlista");
        const carregando = document.getElementById("carregando");

        fetch('https://api.restful-api.dev/objects')
            .then(response => response.json())
            .then(json => {
                if (carregando) carregando.remove();

                json.forEach((item, indice) => {
                    const li = document.createElement("li");
                    const link = document.createElement("a");
                    link.href = `detalhe.html?id=${item.id}`;
                    link.textContent = `#${indice + 1} - ID: ${item.id}, Nome: ${item.name}`;
                    li.appendChild(link);
                    container.appendChild(li);
                });
            })
            .catch(err => {
                console.error("Erro ao carregar lista:", err);
                if (carregando) {
                    carregando.textContent = "Erro ao carregar a lista. Tente novamente mais tarde.";
                    carregando.classList.add("erro");
                }
            });
    </script>
</body>

</html>